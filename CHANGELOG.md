# Changelog

## 2025-02-03

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 214.476 159.746" width="214.476" height="159.746"><path d="M154.408,119.81800000000001 L129.392,132.326 L113.28,124.27000000000001 L82.328,139.746 L49.67999999999999,123.422 L80.41999999999999,107.84 L20,77.63000000000001 L42.25999999999999,66.50000000000001 L176.668,40 L194.476,59.504000000000005 L79.57199999999999,82.4 L105.85999999999999,95.54400000000001 L143.38400000000001,80.386 L172.216,94.802 L138.296,111.76200000000003 L154.408,119.81800000000001 Z" fill="#D50C34"/><path d="M138.4648380332228,111.67758098338865 M138.46484,111.67758l-0.16884,0.08442l16.112,8.056 L154.408,99.81800000000001 M154.408,99.818l-16.112,-8.056l0.16884,-0.08442 L138.4648380332228,111.67758098338865" fill="#950824"/><path d="M129.392,132.326 M129.392,132.326l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056 L154.408,99.81800000000001 M154.408,99.818l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056 L129.392,132.326" fill="#950824"/><path d="M82.328,139.746 M82.328,139.746l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508 L129.392,112.326 M129.392,112.326l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324 L82.328,139.746" fill="#950824"/><path d="M49.67999999999999,123.422 M49.68,123.422l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476 L82.328,119.74600000000001 M82.328,119.746l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582 L49.67999999999999,123.422" fill="#950824"/><path d="M20,77.63000000000001 M20,77.63l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324 L49.67999999999999,103.422 M49.68,103.422l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13 L20,77.63000000000001" fill="#950824"/><path d="M42.25999999999999,66.50000000000001 M42.26,66.5l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21 L20,57.63000000000001 M20,57.63l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5 L42.25999999999999,66.50000000000001" fill="#950824"/><path d="M176.668,40 M176.668,40l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13 L42.25999999999999,46.500000000000014 M42.26,46.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504 L176.668,40" fill="#950824"/><path d="M194.476,59.504000000000005 M194.476,59.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5 L176.668,20 M176.668,20l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896 L194.476,59.504000000000005" fill="#950824"/><path d="M79.572,82.39999999999999 M79.572,82.4l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5l17.808,19.504 L194.476,39.504000000000005 M194.476,39.504l-17.808,-19.504l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144 L79.572,82.39999999999999" fill="#950824"/><path d="M143.38400000000001,80.386 M143.384,80.386l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896 L79.57199999999999,62.400000000000006 M79.572,62.4l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416 L143.38400000000001,80.386" fill="#950824"/><path d="M172.216,94.80200000000004 M172.216,94.802l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158 L143.38400000000001,60.385999999999996 M143.384,60.386l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96 L172.216,94.80200000000004" fill="#950824"/><path d="M138.29600000000005,111.76200000000004 M138.296,111.762l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416 L172.216,74.802 M172.216,74.802l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056 L138.29600000000005,111.76200000000004" fill="#950824"/><path d="M138.296,111.76200000000003 M138.296,111.762l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-31.71034,-15.85517 L50.61765753820359,103.8908287691018 M50.61766,103.89083l31.71034,15.85517l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056 L138.296,111.76200000000003" fill="#950824"/><path d="M79.62124804319222,107.44062402159612 M79.62125,107.44062l-59.62125,-29.81062l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-31.71034,-15.85517 L50.61765753820359,103.8908287691018 M50.61766,103.89083l31.71034,15.85517l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l59.62125,29.81062 L79.62124804319222,107.44062402159612" fill="#950824"/><path d="M80.49918115250858,82.8635905762543 M80.49918,82.86359l25.36082,12.68041l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-59.81679,-29.90839 L20.6032101727587,57.93160508637936 M20.60321,57.93161l59.81679,29.90839l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-25.36082,-12.68041 L80.49918115250858,82.8635905762543" fill="#950824"/><path d="M171.37038114617832,94.37919057308915 M171.37038,94.37919l0.84562,0.42281l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l0.92718,0.46359 L80.49918115250858,62.863590576254296 M80.49918,62.86359l-0.92718,-0.46359l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-0.84562,-0.42281 L171.37038114617832,94.37919057308915" fill="#950824"/><path d="M138.46483803322272,111.67758098338867 M138.46484,111.67758l-0.16884,0.08442l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-60.42,-30.21l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l27.98638,13.99319 L171.37038114617835,74.37919057308916 M171.37038,74.37919l-27.98638,-13.99319l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l60.42,30.21l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l0.16884,-0.08442 L138.46483803322272,111.67758098338867" fill="#950824"/><path d="M20.60321017275875,77.93160508637938 M20.60321,77.93161l-0.60321,-0.30161l22.26,-11.13l134.408,-26.5l17.808,19.504l-114.904,22.896l26.288,13.144l37.524,-15.158l28.832,14.416l-33.92,16.96l16.112,8.056l-25.016,12.508l-16.112,-8.056l-30.952,15.476l-32.648,-16.324l30.74,-15.582l-0.79875,-0.39938 L79.62124804319215,87.4406240215961 M79.62125,87.44062l0.79875,0.39938l-30.74,15.582l32.648,16.324l30.952,-15.476l16.112,8.056l25.016,-12.508l-16.112,-8.056l33.92,-16.96l-28.832,-14.416l-37.524,15.158l-26.288,-13.144l114.904,-22.896l-17.808,-19.504l-134.408,26.5l-22.26,11.13l0.60321,0.30161 L20.60321017275875,77.93160508637938" fill="#950824"/><path d="M154.408,99.81800000000001 L129.392,112.326 L113.28,104.27000000000001 L82.328,119.74600000000001 L49.67999999999999,103.422 L80.41999999999999,87.84 L20,57.63000000000001 L42.25999999999999,46.500000000000014 L176.668,20 L194.476,39.504000000000005 L79.57199999999999,62.400000000000006 L105.85999999999999,75.54400000000001 L143.38400000000001,60.385999999999996 L172.216,74.802 L138.296,91.76200000000003 L154.408,99.81800000000001 Z" fill="#D50C34"/></svg>

It's been a long journey, but the new pipeline approach is now nearing the quality of output from the initial prototype, but with support for more complex shapes than circles and rectangles.

There are still some remaining issues with walls being duplicated and stacked incorrectly, but the overall effect of the end result is mostly unmarred.

### Refactor

In addition to the new pipeline approach, much of the pipeline process has now been refactored so that each step of the pipeline updates the model as well as the output SVG. This includes providing an updated debug version of the SVG when appropriate.

### Walls Walls Walls

In addition to tackling ducpicated wall boundaries and wall stacking, we may also consider enhancing the current output with wall shading. The initial protype sort of faked this by brute force, using different tones of color for east and west-facing walls on rectangles, and a gradient for the curved wall on circles.

A more sophisticated approach would calculate the shades and gradients custom for each wall, depending on their facing and curve path.

### Going Up

The refator has introduced two new properties for shapes: elevation and height. More on that another time.

## 2025-02-02 Update 2

<svg width="220.92388155426124" height="130.46194077713062" viewBox="0 0 220.92388155426124 130.46194077713062" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M98.46194077713062,26.73097038856531 L187.46194077713062,71.23097038856531 C205.41119514663814,80.20559757331907 205.41119514663814,94.75634320381155 187.46194077713062,103.73097038856531 L187.46194077713062,103.73097038856531 C169.5126864076231,112.70559757331907 140.41119514663814,112.70559757331907 122.46194077713062,103.73097038856531 L33.46194077713062,59.23097038856531 C15.512686407623121,50.256343203811554 15.512686407623121,35.70559757331906 33.46194077713062,26.73097038856531 L33.46194077713062,26.73097038856531 C51.41119514663812,17.75634320381156 80.51268640762312,17.75634320381156 98.46194077713062,26.73097038856531 Z" fill="#6366F1"/><g data-index="1" data-x="200.90897881862946" data-y="88.06797153810078"><circle cx="200.90897881862946" cy="88.06797153810078" r="6" fill="red" stroke="white" stroke-width="1"/><text x="200.90897881862946" y="88.06797153810078" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">1</text></g><g data-index="2" data-x="20.014902735631786" data-y="42.393969239029765"><circle cx="20.014902735631786" cy="42.393969239029765" r="6" fill="red" stroke="white" stroke-width="1"/><text x="20.014902735631786" y="42.393969239029765" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">2</text></g><path d="M20.01490273563764,42.393969238914465 M20.0149,42.39397c0.28867,-5.68417 4.77101,-11.32499 13.44704,-15.663v0c17.94925,-8.97463 47.05075,-8.97463 65,0l89,44.5c9.27323,4.63662 13.75558,10.76157 13.44704,16.837 L200.90897881862952,68.06797153810034 M200.90898,68.06797c0.30854,-6.07543 -4.17381,-12.20039 -13.44704,-16.837l-89,-44.5c-17.94925,-8.97463 -47.05075,-8.97463 -65,0v0c-8.67602,4.33801 -13.15837,9.97883 -13.44704,15.663 L20.01490273563764,42.393969238914465" fill="#4547a8" opacity="0.5" stroke="black" stroke-width="0.5"/><path d="M200.9089788186236,88.06797153821643 M200.90898,88.06797c-0.28867,5.68417 -4.77101,11.32499 -13.44704,15.663v0c-17.94925,8.97463 -47.05075,8.97463 -65,0l-89,-44.5c-9.27323,-4.63662 -13.75558,-10.76157 -13.44704,-16.837 L20.014902735631757,22.39396923903034 M20.0149,22.39397c-0.30854,6.07543 4.17381,12.20039 13.44704,16.837l89,44.5c17.94925,8.97463 47.05075,8.97463 65,0v0c8.67602,-4.33801 13.15837,-9.97883 13.44704,-15.663 L200.9089788186236,88.06797153821643" fill="#4547a8" opacity="0.5" stroke="black" stroke-width="0.5"/></svg>

You've got walls!

## 2025-02-02 Update 1

<svg width="144.63035106282828" height="92.31381122853378" viewBox="0 0 144.63035106282828 92.31381122853378" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M25.08597509066913,68.35195833333924 L25.069975090669132,68.33195833333926 L25.02997509066912,68.26395833333925 C24.79847509066913,67.86490833333926 24.578375090669134,67.46415833333924 24.369975090669122,67.06195833333925 C21.899175090669132,62.20855833333925 20.459275090669124,57.23840833333926 20.07397509066913,52.23395833333925 C19.457975090669123,43.33795833333925 22.44997509066912,32.089958333339254 38.145975090669126,24.241958333339248 C49.85797509066913,18.38595833333925 69.00197509066913,18.669958333339252 80.89797509066912,24.617958333339253 C84.22117509066912,26.263358333339248 86.75967509066913,28.262208333339252 88.32487509066912,30.465808333339247 C89.88987509066912,32.66940833333925 90.44127509066912,35.02110833333925 89.93797509066913,37.34595833333925 C94.58867509066913,37.094208333339246 99.29297509066913,37.37005833333925 103.70097509066913,38.15295833333925 C108.10887509066913,38.93590833333925 112.10707509066913,40.20570833333925 115.39797509066912,41.86795833333925 C127.28997509066915,47.81395833333925 127.85797509066913,57.385958333339254 116.14597509066913,63.24195833333925 C100.44597509066912,71.09195833333925 77.94997509066914,72.58795833333926 60.16597509066913,72.27595833333925 C50.15707509066912,72.08340833333926 40.216675090669135,71.36340833333927 30.509975090669123,70.12795833333925 C29.704175090669118,70.02445833333925 28.90147509066913,69.91510833333925 28.10197509066912,69.79995833333925 L27.965975090669126,69.77995833333924 L27.92197509066913,69.77395833333927 L27.905975090669124,69.76995833333925 C27.24237509066912,69.66795833333924 26.638975090669128,69.48635833333924 26.14807509066913,69.24090833333926 C25.657175090669128,68.99545833333926 25.29397509066912,68.69375833333925 25.08997509066912,68.36195833333926 L25.08597509066913,68.35195833333924 Z" fill="#EB3AAA"/><g data-index="1" data-x="25.069975090669132" data-y="68.33195833333926"><circle cx="25.069975090669132" cy="68.33195833333926" r="6" fill="red" stroke="white" stroke-width="1"/><text x="25.069975090669132" y="68.33195833333926" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">1</text></g><g data-index="2" data-x="27.92197509066913" data-y="69.77395833333927"><circle cx="27.92197509066913" cy="69.77395833333927" r="6" fill="red" stroke="white" stroke-width="1"/><text x="27.92197509066913" y="69.77395833333927" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">2</text></g><g data-index="3" data-x="20.000048088622748" data-y="50.06577577551186"><circle cx="20.000048088622748" cy="50.06577577551186" r="6" fill="red" stroke="white" stroke-width="1"/><text x="20.000048088622748" y="50.06577577551186" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">3</text></g><g data-index="4" data-x="90.11738225680675" data-y="35.53042233926101"><circle cx="90.11738225680675" cy="35.53042233926101" r="6" fill="red" stroke="white" stroke-width="1"/><text x="90.11738225680675" y="35.53042233926101" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">4</text></g><g data-index="5" data-x="89.95540602364021" data-y="37.263382223583676"><circle cx="89.95540602364021" cy="37.263382223583676" r="6" fill="red" stroke="white" stroke-width="1"/><text x="89.95540602364021" y="37.263382223583676" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">5</text></g><g data-index="6" data-x="124.62163783669308" data-y="52.548058362441225"><circle cx="124.62163783669308" cy="52.548058362441225" r="6" fill="red" stroke="white" stroke-width="1"/><text x="124.62163783669308" y="52.548058362441225" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">6</text></g><path d="M27.921975090669065,69.77395833333927 M27.92198,69.77396l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02" stroke="blue" stroke-width="1.5" fill="none"/><circle cx="27.921975090669065" cy="69.77395833333927" r="3" fill="blue"/><path d="M25.069975090669132,48.33195833333926 M27.92198,49.77396l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02" stroke="red" stroke-width="1.5" fill="none"/><circle cx="25.069975090669132" cy="48.33195833333926" r="3" fill="red"/><path d="M27.921975090669065,69.77395833333927 M27.92198,69.77396l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02 L25.069975090669132,48.33195833333926 M25.06998,48.33196l0.016,0.02l0.004,0.01c0.204,0.3318 0.5672,0.6335 1.0581,0.87895c0.4909,0.24545 1.0943,0.42705 1.7579,0.52905l0.016,0.004 L27.921975090669065,69.77395833333927" fill="gray" opacity="0.5" stroke="black" stroke-width="0.5"/><path d="M27.921975046108532,69.77395832219912 M27.92198,69.77396l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.04908,-0.70877 -0.07525,-1.43246 -0.07393,-2.16818" stroke="blue" stroke-width="1.5" fill="none"/><circle cx="27.921975046108532" cy="69.77395832219912" r="3" fill="blue"/><path d="M20.000048088705654,30.065775729547404 M27.92198,49.77396l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.04908,-0.70877 -0.07525,-1.43246 -0.07393,-2.16818" stroke="red" stroke-width="1.5" fill="none"/><circle cx="20.000048088705654" cy="30.065775729547404" r="3" fill="red"/><path d="M27.921975046108532,69.77395832219912 M27.92198,69.77396l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.04908,-0.70877 -0.07525,-1.43246 -0.07393,-2.16818 L20.000048088705654,30.065775729547404 M20.00005,30.06578c-0.00133,0.73572 0.02485,1.45942 0.07393,2.16818c0.3853,5.00445 1.8252,9.9746 4.296,14.828c0.2084,0.4022 0.4285,0.80295 0.66,1.202l0.04,0.068l0.016,0.02l0.004,0.01c0.204,0.3318 0.5672,0.6335 1.0581,0.87895c0.4909,0.24545 1.0943,0.42705 1.7579,0.52905l0.016,0.004 L27.921975046108532,69.77395832219912" fill="gray" opacity="0.5" stroke="black" stroke-width="0.5"/><path d="M90.11738225764158,35.53042238518565 M90.11738,35.53042c0.011,0.60494 -0.04856,1.21115 -0.17941,1.81554c4.6507,-0.25175 9.355,0.0241 13.763,0.807c4.4079,0.78295 8.4061,2.05275 11.697,3.715c11.892,5.946 12.46,15.518 0.748,21.374c-15.7,7.85 -38.196,9.346 -55.98,9.034c-10.0089,-0.19255 -19.9493,-0.91255 -29.656,-2.148c-0.8058,-0.1035 -1.6085,-0.21285 -2.408,-0.328l-0.136,-0.02l-0.044,-0.006l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.04908,-0.70877 -0.07525,-1.43246 -0.07393,-2.16818" stroke="blue" stroke-width="1.5" fill="none"/><circle cx="90.11738225764158" cy="35.53042238518565" r="3" fill="blue"/><path d="M20.000048088705654,30.065775729547404 M90.11738,15.53042c0.011,0.60494 -0.04856,1.21115 -0.17941,1.81554c4.6507,-0.25175 9.355,0.0241 13.763,0.807c4.4079,0.78295 8.4061,2.05275 11.697,3.715c11.892,5.946 12.46,15.518 0.748,21.374c-15.7,7.85 -38.196,9.346 -55.98,9.034c-10.0089,-0.19255 -19.9493,-0.91255 -29.656,-2.148c-0.8058,-0.1035 -1.6085,-0.21285 -2.408,-0.328l-0.136,-0.02l-0.044,-0.006l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.04908,-0.70877 -0.07525,-1.43246 -0.07393,-2.16818" stroke="red" stroke-width="1.5" fill="none"/><circle cx="20.000048088705654" cy="30.065775729547404" r="3" fill="red"/><path d="M90.11738225764158,35.53042238518565 M90.11738,35.53042c0.011,0.60494 -0.04856,1.21115 -0.17941,1.81554c4.6507,-0.25175 9.355,0.0241 13.763,0.807c4.4079,0.78295 8.4061,2.05275 11.697,3.715c11.892,5.946 12.46,15.518 0.748,21.374c-15.7,7.85 -38.196,9.346 -55.98,9.034c-10.0089,-0.19255 -19.9493,-0.91255 -29.656,-2.148c-0.8058,-0.1035 -1.6085,-0.21285 -2.408,-0.328l-0.136,-0.02l-0.044,-0.006l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.04908,-0.70877 -0.07525,-1.43246 -0.07393,-2.16818 L20.000048088705654,30.065775729547404 M20.00005,30.06578c-0.00133,0.73572 0.02485,1.45942 0.07393,2.16818c0.3853,5.00445 1.8252,9.9746 4.296,14.828c0.2084,0.4022 0.4285,0.80295 0.66,1.202l0.04,0.068l0.016,0.02l0.004,0.01c0.204,0.3318 0.5672,0.6335 1.0581,0.87895c0.4909,0.24545 1.0943,0.42705 1.7579,0.52905l0.016,0.004l0.044,0.006l0.136,0.02c0.7995,0.11515 1.6022,0.2245 2.408,0.328c9.7067,1.23545 19.6471,1.95545 29.656,2.148c17.784,0.312 40.28,-1.184 55.98,-9.034c11.712,-5.856 11.144,-15.428 -0.748,-21.374c-3.2909,-1.66225 -7.2891,-2.93205 -11.697,-3.715c-4.408,-0.7829 -9.1123,-1.05875 -13.763,-0.807c0.13084,-0.60439 0.1904,-1.21059 0.17941,-1.81554 L90.11738225764158,35.53042238518565" fill="gray" opacity="0.5" stroke="black" stroke-width="0.5"/><path d="M89.9554060236402,37.263382223583754 M89.95541,37.26338c-0.00566,0.02753 -0.01147,0.05505 -0.01743,0.08258c4.6507,-0.25175 9.355,0.0241 13.763,0.807c4.4079,0.78295 8.4061,2.05275 11.697,3.715c11.892,5.946 12.46,15.518 0.748,21.374c-15.7,7.85 -38.196,9.346 -55.98,9.034c-10.0089,-0.19255 -19.9493,-0.91255 -29.656,-2.148c-0.8058,-0.1035 -1.6085,-0.21285 -2.408,-0.328l-0.136,-0.02l-0.044,-0.006l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.616,-8.896 2.376,-20.144 18.072,-27.992c11.712,-5.856 30.856,-5.572 42.752,0.376c3.3232,1.6454 5.8617,3.64425 7.4269,5.84785c1.15815,1.63073 1.7612,3.34257 1.79251,5.06461" stroke="blue" stroke-width="1.5" fill="none"/><circle cx="89.9554060236402" cy="37.263382223583754" r="3" fill="blue"/><path d="M90.11738225680675,15.530422339261293 M89.95541,17.26338c-0.00566,0.02753 -0.01147,0.05505 -0.01743,0.08258c4.6507,-0.25175 9.355,0.0241 13.763,0.807c4.4079,0.78295 8.4061,2.05275 11.697,3.715c11.892,5.946 12.46,15.518 0.748,21.374c-15.7,7.85 -38.196,9.346 -55.98,9.034c-10.0089,-0.19255 -19.9493,-0.91255 -29.656,-2.148c-0.8058,-0.1035 -1.6085,-0.21285 -2.408,-0.328l-0.136,-0.02l-0.044,-0.006l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.616,-8.896 2.376,-20.144 18.072,-27.992c11.712,-5.856 30.856,-5.572 42.752,0.376c3.3232,1.6454 5.8617,3.64425 7.4269,5.84785c1.15815,1.63073 1.7612,3.34257 1.79251,5.06461" stroke="red" stroke-width="1.5" fill="none"/><circle cx="90.11738225680675" cy="15.530422339261293" r="3" fill="red"/><path d="M89.9554060236402,37.263382223583754 M89.95541,37.26338c-0.00566,0.02753 -0.01147,0.05505 -0.01743,0.08258c4.6507,-0.25175 9.355,0.0241 13.763,0.807c4.4079,0.78295 8.4061,2.05275 11.697,3.715c11.892,5.946 12.46,15.518 0.748,21.374c-15.7,7.85 -38.196,9.346 -55.98,9.034c-10.0089,-0.19255 -19.9493,-0.91255 -29.656,-2.148c-0.8058,-0.1035 -1.6085,-0.21285 -2.408,-0.328l-0.136,-0.02l-0.044,-0.006l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.616,-8.896 2.376,-20.144 18.072,-27.992c11.712,-5.856 30.856,-5.572 42.752,0.376c3.3232,1.6454 5.8617,3.64425 7.4269,5.84785c1.15815,1.63073 1.7612,3.34257 1.79251,5.06461 L90.11738225680675,15.530422339261293 M90.11738,15.53042c-0.0313,-1.72204 -0.63436,-3.43388 -1.79251,-5.06461c-1.5652,-2.2036 -4.1037,-4.20245 -7.4269,-5.84785c-11.896,-5.948 -31.04,-6.232 -42.752,-0.376c-15.696,7.848 -18.688,19.096 -18.072,27.992c0.3853,5.00445 1.8252,9.9746 4.296,14.828c0.2084,0.4022 0.4285,0.80295 0.66,1.202l0.04,0.068l0.016,0.02l0.004,0.01c0.204,0.3318 0.5672,0.6335 1.0581,0.87895c0.4909,0.24545 1.0943,0.42705 1.7579,0.52905l0.016,0.004l0.044,0.006l0.136,0.02c0.7995,0.11515 1.6022,0.2245 2.408,0.328c9.7067,1.23545 19.6471,1.95545 29.656,2.148c17.784,0.312 40.28,-1.184 55.98,-9.034c11.712,-5.856 11.144,-15.428 -0.748,-21.374c-3.2909,-1.66225 -7.2891,-2.93205 -11.697,-3.715c-4.408,-0.7829 -9.1123,-1.05875 -13.763,-0.807c0.00596,-0.02752 0.01177,-0.05505 0.01743,-0.08258 L89.9554060236402,37.263382223583754" fill="gray" opacity="0.5" stroke="black" stroke-width="0.5"/><path d="M124.62163783669399,52.54805836246044 M124.62164,52.54806c0.18582,3.88187 -2.59915,7.75564 -8.47566,10.6939c-15.7,7.85 -38.196,9.346 -55.98,9.034c-10.0089,-0.19255 -19.9493,-0.91255 -29.656,-2.148c-0.8058,-0.1035 -1.6085,-0.21285 -2.408,-0.328l-0.136,-0.02l-0.044,-0.006l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.616,-8.896 2.376,-20.144 18.072,-27.992c11.712,-5.856 30.856,-5.572 42.752,0.376c3.3232,1.6454 5.8617,3.64425 7.4269,5.84785c1.54647,2.17751 2.1032,4.49964 1.63053,6.79757" stroke="blue" stroke-width="1.5" fill="none"/><circle cx="124.62163783669399" cy="52.54805836246044" r="3" fill="blue"/><path d="M89.95540602364021,17.263382223583648 M124.62164,32.54806c0.18582,3.88187 -2.59915,7.75564 -8.47566,10.6939c-15.7,7.85 -38.196,9.346 -55.98,9.034c-10.0089,-0.19255 -19.9493,-0.91255 -29.656,-2.148c-0.8058,-0.1035 -1.6085,-0.21285 -2.408,-0.328l-0.136,-0.02l-0.044,-0.006l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.616,-8.896 2.376,-20.144 18.072,-27.992c11.712,-5.856 30.856,-5.572 42.752,0.376c3.3232,1.6454 5.8617,3.64425 7.4269,5.84785c1.54647,2.17751 2.1032,4.49964 1.63053,6.79757" stroke="red" stroke-width="1.5" fill="none"/><circle cx="89.95540602364021" cy="17.263382223583648" r="3" fill="red"/><path d="M124.62163783669399,52.54805836246044 M124.62164,52.54806c0.18582,3.88187 -2.59915,7.75564 -8.47566,10.6939c-15.7,7.85 -38.196,9.346 -55.98,9.034c-10.0089,-0.19255 -19.9493,-0.91255 -29.656,-2.148c-0.8058,-0.1035 -1.6085,-0.21285 -2.408,-0.328l-0.136,-0.02l-0.044,-0.006l-0.016,-0.004c-0.6636,-0.102 -1.267,-0.2836 -1.7579,-0.52905c-0.4909,-0.24545 -0.8541,-0.54715 -1.0581,-0.87895l-0.004,-0.01l-0.016,-0.02l-0.04,-0.068c-0.2315,-0.39905 -0.4516,-0.7998 -0.66,-1.202c-2.4708,-4.8534 -3.9107,-9.82355 -4.296,-14.828c-0.616,-8.896 2.376,-20.144 18.072,-27.992c11.712,-5.856 30.856,-5.572 42.752,0.376c3.3232,1.6454 5.8617,3.64425 7.4269,5.84785c1.54647,2.17751 2.1032,4.49964 1.63053,6.79757 L89.95540602364021,17.263382223583648 M89.95541,17.26338c0.47267,-2.29793 -0.08406,-4.62006 -1.63053,-6.79757c-1.5652,-2.2036 -4.1037,-4.20245 -7.4269,-5.84785c-11.896,-5.948 -31.04,-6.232 -42.752,-0.376c-15.696,7.848 -18.688,19.096 -18.072,27.992c0.3853,5.00445 1.8252,9.9746 4.296,14.828c0.2084,0.4022 0.4285,0.80295 0.66,1.202l0.04,0.068l0.016,0.02l0.004,0.01c0.204,0.3318 0.5672,0.6335 1.0581,0.87895c0.4909,0.24545 1.0943,0.42705 1.7579,0.52905l0.016,0.004l0.044,0.006l0.136,0.02c0.7995,0.11515 1.6022,0.2245 2.408,0.328c9.7067,1.23545 19.6471,1.95545 29.656,2.148c17.784,0.312 40.28,-1.184 55.98,-9.034c5.87651,-2.93826 8.66148,-6.81203 8.47566,-10.6939 L124.62163783669399,52.54805836246044" fill="gray" opacity="0.5" stroke="black" stroke-width="0.5"/></svg>

For posterity: we've made meaningful progress on the curved walls.

## 2025-02-02

<svg width="242.3438296781516" height="140.41232135250783" viewBox="0 0 242.3438296781516 140.41232135250783" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M152.89037255154045,79.04465996877987 C158.11937255154047,86.18215996877986 159.88637255154046,92.50665996877986 158.19037255154043,98.01865996877986 C156.77637255154045,103.53065996877986 151.90137255154045,108.37115996877988 143.56237255154045,112.54065996877985 C135.78937255154045,116.42715996877986 126.46037255154044,118.90065996877986 115.57837255154044,119.96065996877986 C104.83737255154045,120.95015996877986 93.53037255154044,120.31365996877987 81.65837255154047,118.05265996877988 C69.78637255154045,115.79165996877988 58.33837255154046,111.90465996877988 47.31437255154046,106.39265996877988 C36.57307255154046,101.02200996877987 29.011372551540433,95.40415996877987 24.63037255154046,89.53865996877987 C20.249372551540432,83.67315996877987 18.976672551540474,78.09080996877987 20.81437255154046,72.79065996877986 C22.934372551540434,67.49065996877987 27.810372551540468,62.93265996877987 35.44237255154047,59.11665996877987 C51.55437255154047,51.06065996877987 72.54207255154046,49.54150996877986 98.40637255154046,54.55865996877988 C92.32907255154046,43.46400996877986 96.49837255154046,34.31265996877987 110.91437255154045,27.10465996877987 C118.54637255154046,23.288659968779868 127.30907255154045,21.027309968779875 137.20237255154046,20.32065996877988 C147.23707255154045,19.543309968779866 157.41307255154044,20.17930996877986 167.73037255154046,22.228659968779866 C178.18897255154045,24.34865996877987 187.94107255154046,27.670009968779866 196.98637255154046,32.192659968779864 C210.83737255154045,39.118159968779864 219.03467255154044,46.46750996877988 221.57837255154044,54.240659968779866 C224.26407255154044,62.08480996877988 219.88237255154044,68.86865996877987 208.43437255154043,74.59265996877987 C195.14937255154047,81.23515996877985 176.63437255154045,82.71965996877988 152.89037255154045,79.04465996877987 Z M176.63437255154045,42.58065996877987 C170.69837255154044,39.61265996877988 164.47967255154046,38.05800996877987 157.97837255154045,37.91665996877987 C151.61837255154046,37.704659968779865 145.54137255154046,39.047159968779866 139.74637255154045,41.944659968779874 C134.51737255154046,44.559159968779866 131.83207255154045,47.45650996877987 131.69037255154046,50.63665996877987 C131.69067255154044,53.74580996877988 133.73937255154044,57.668159968779875 137.8383725515405,62.40265996877987 L140.59437255154046,65.26465996877987 C148.93337255154046,66.18315996877988 155.92937255154047,66.28915996877987 161.58237255154046,65.58265996877986 C167.37737255154047,64.80515996877988 172.74737255154048,63.180159968779876 177.69437255154045,60.706659968779874 C183.06537255154046,58.02115996877987 185.68007255154046,55.08880996877987 185.53837255154045,51.90865996877987 C185.53807255154044,48.65780996877986 182.57037255154046,45.54865996877987 176.63437255154045,42.58065996877987 Z M70.21037255154046,95.79265996877986 C77.55937255154046,99.46715996877988 85.05037255154045,101.37565996877989 92.68237255154047,101.51665996877988 C100.45637255154044,101.72865996877987 107.38137255154045,100.31515996877987 113.45837255154045,97.27665996877987 C119.53537255154045,94.23815996877987 122.57437255154046,90.95165996877988 122.57437255154045,87.41865996877989 C122.57437255154046,83.88565996877988 119.67637255154045,79.04465996877987 113.88237255154046,72.89665996877987 L109.43037255154046,68.33865996877988 C93.31837255154045,65.79465996877987 79.18537255154045,67.56115996877988 67.03037255154045,73.63865996877986 C60.67037255154047,76.81865996877987 57.77337255154045,80.38715996877987 58.33837255154046,84.34465996877988 C58.90337255154046,88.30215996877986 62.86107255154046,92.11800996877987 70.21037255154046,95.79265996877986 Z" fill="#4B0FFE"/><g data-index="1" data-x="158.81332092017317" data-y="93.79463566111346"><circle cx="158.81332092017317" cy="93.79463566111346" r="6" fill="red" stroke="white" stroke-width="1"/><text x="158.81332092017317" y="93.79463566111346" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">1</text></g><g data-index="2" data-x="20.062798588975063" data-y="76.22234457002286"><circle cx="20.062798588975063" cy="76.22234457002286" r="6" fill="red" stroke="white" stroke-width="1"/><text x="20.062798588975063" y="76.22234457002286" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">2</text></g><g data-index="3" data-x="97.41732571822676" data-y="52.569614151392095"><circle cx="97.41732571822676" cy="52.569614151392095" r="6" fill="red" stroke="white" stroke-width="1"/><text x="97.41732571822676" y="52.569614151392095" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">3</text></g><g data-index="4" data-x="95.74866919148259" data-y="46.358965871899834"><circle cx="95.74866919148259" cy="46.358965871899834" r="6" fill="red" stroke="white" stroke-width="1"/><text x="95.74866919148259" y="46.358965871899834" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">4</text></g><g data-index="5" data-x="222.2501462133157" data-y="57.09921731220663"><circle cx="222.2501462133157" cy="57.09921731220663" r="6" fill="red" stroke="white" stroke-width="1"/><text x="222.2501462133157" y="57.09921731220663" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">5</text></g><g data-index="6" data-x="131.78283676567838" data-y="51.81676281346756"><circle cx="131.78283676567838" cy="51.81676281346756" r="6" fill="red" stroke="white" stroke-width="1"/><text x="131.78283676567838" y="51.81676281346756" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">6</text></g><g data-index="7" data-x="185.41485150074303" data-y="50.76626376577067"><circle cx="185.41485150074303" cy="50.76626376577067" r="6" fill="red" stroke="white" stroke-width="1"/><text x="185.41485150074303" y="50.76626376577067" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">7</text></g><g data-index="8" data-x="89.25707348903751" data-y="98.47591995174128"><circle cx="89.25707348903751" cy="98.47591995174128" r="6" fill="red" stroke="white" stroke-width="1"/><text x="89.25707348903751" y="98.47591995174128" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">8</text></g><g data-index="9" data-x="122.5739868578579" data-y="87.34789044430944"><circle cx="122.5739868578579" cy="87.34789044430944" r="6" fill="red" stroke="white" stroke-width="1"/><text x="122.5739868578579" y="87.34789044430944" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">9</text></g><g data-index="10" data-x="58.26921904225829" data-y="83.38894970458837"><circle cx="58.26921904225829" cy="83.38894970458837" r="6" fill="red" stroke="white" stroke-width="1"/><text x="58.26921904225829" y="83.38894970458837" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">10</text></g><g data-index="11" data-x="155.95929905978142" data-y="79.8890630830973"><circle cx="155.95929905978142" cy="79.8890630830973" r="6" fill="red" stroke="white" stroke-width="1"/><text x="155.95929905978142" y="79.8890630830973" font-size="6" fill="white" text-anchor="middle" dominant-baseline="middle">11</text></g><path d="M158.81332092017317,93.79463566111346 L20.062798588975063,76.22234457002286 L20.062798588975063,56.222344570022855 L158.81332092017317,73.79463566111346 Z" fill="gray" opacity="0.5"/><path d="M20.062798588975063,76.22234457002286 L97.41732571822676,52.569614151392095 L97.41732571822676,32.569614151392095 L20.062798588975063,56.222344570022855 Z" fill="gray" opacity="0.5"/><path d="M97.41732571822676,52.569614151392095 L95.74866919148259,46.358965871899834 L95.74866919148259,26.358965871899834 L97.41732571822676,32.569614151392095 Z" fill="gray" opacity="0.5"/><path d="M95.74866919148259,46.358965871899834 L222.2501462133157,57.09921731220663 L222.2501462133157,37.09921731220663 L95.74866919148259,26.358965871899834 Z" fill="gray" opacity="0.5"/><path d="M222.2501462133157,57.09921731220663 L131.78283676567838,51.81676281346756 L131.78283676567838,31.816762813467562 L222.2501462133157,37.09921731220663 Z" fill="gray" opacity="0.5"/><path d="M131.78283676567838,51.81676281346756 L185.41485150074303,50.76626376577067 L185.41485150074303,30.766263765770667 L131.78283676567838,31.816762813467562 Z" fill="gray" opacity="0.5"/><path d="M185.41485150074303,50.76626376577067 L89.25707348903751,98.47591995174128 L89.25707348903751,78.47591995174128 L185.41485150074303,30.766263765770667 Z" fill="gray" opacity="0.5"/><path d="M89.25707348903751,98.47591995174128 L122.5739868578579,87.34789044430944 L122.5739868578579,67.34789044430944 L89.25707348903751,78.47591995174128 Z" fill="gray" opacity="0.5"/><path d="M122.5739868578579,87.34789044430944 L58.26921904225829,83.38894970458837 L58.26921904225829,63.38894970458837 L122.5739868578579,67.34789044430944 Z" fill="gray" opacity="0.5"/><path d="M58.26921904225829,83.38894970458837 L155.95929905978142,79.8890630830973 L155.95929905978142,59.8890630830973 L58.26921904225829,63.38894970458837 Z" fill="gray" opacity="0.5"/></svg>

Trying to build the walls of the 3D shapes is proving to be vanishingly elusive.

First some good news...

- It is now possible to recenter the shapes withing a new view, which is nice for seeing the whole output.
- I have a strategy in place for visualizing the wall boundaries for better visual degugging.
- Starter walls are being constructed, visualized in grey and with a preset height.

Let's talk about some challenges.

### Wall Boundaries

Finding all the wall boundaries is proving even more difficult that I had imagined. In general, each wall boundary should be either a sharp corner, or a local horizontal extrema point. Those local extrema form the visible left-most and right-most points of walls in the isometric projection.

One challenge is ensuring that duplicates don't appear when an extrema point and a sharp turn are the same boundary. The extra points are being found by sampling along the path, so the points may not match perfectly with and found corners.

It's also proving difficult to put the wall boundaries in order. This is important to do, because we should construct walls between each pair of points, and the walls should following along the edge of the shape, and not cut through it.

Finally, when a path includes a hole in the middle, there should be a separation, with no wall connecting from the outside of the path to the inner walls for the hole.

All of this is getting tantalizingly close to working, but it isn't quite there yet.

### Wall Shapes

Right now, I'm producing wall shapes between two wall boundaries using a simple quadrilateral shape, which produces straight walls. In order to support curved shapes, the wall segments should use a segment of the path from the floor shape to determine the top and bottom of the wall path.

I've started to use the [Paper.js](http://paperjs.org) library to help with certain calculations, including for bounding boxes. It should also help to isolate the subpaths for the tops and bottoms of wall shapes. I'd prefer to reduce the dependcies of this project, so I will probably take the approach of using libraries like this for now while getting everything working, and treat dependency reduction as a goal for later.

### Just Keep Swimming

Despite these challenges, progress continues. Floors (and ceilings) are in good shape, and I'm impressed by the variety of shapes which the pipeline can process into an isometric space now. Once the challenges with constructing the walls are cracked, I can focus on producing final shapes and start introducing concepts for different heights and elevations for the extruded shapes, which should be fun.

Stay tuned.

## 2025-01-27

<svg width="143" height="126" viewBox="0 0 143 126" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M24,36 L71,59.5 C84.254833995944,66.127416997972 84.254833995944,76.872583002028 71,83.5 L41,98.5 C27.745166004056003,105.127416997972 6.254833995943997,105.127416997972 -7,98.5 L-54,75 C-67.254833995944,68.372583002028 -67.254833995944,57.627416997972 -54,51 L-24,36 C-10.745166004056003,29.372583002028 10.745166004056003,29.372583002028 24,36 Z" fill="#D50C34"/>
  <path d="M24,16 L71,39.5 C84.254833995944,46.127416997972006 84.254833995944,56.872583002027994 71,63.5 L41,78.5 C27.745166004056003,85.127416997972 6.254833995943997,85.127416997972 -7,78.5 L-54,55 C-67.254833995944,48.372583002027994 -67.254833995944,37.627416997972 -54,31 L-24,16 C-10.745166004056003,9.372583002028001 10.745166004056003,9.372583002028001 24,16 Z" fill="#D50C34"/>
  <path d="M20.200000000000003,75.53999999999999 L12.608000000000004,79.336 L8.968000000000004,77.51599999999999 L2,81 L-8.087999999999994,75.956 L-1.171999999999997,72.446 L-15.991999999999997,65.036 L-9.283999999999999,61.682 L23.215999999999994,55.156 L28.884000000000007,61.11 L2.156000000000006,66.518 L6.524000000000001,68.702 L15.415999999999997,65.452 L24.256,69.872 L16.560000000000002,73.72 L20.200000000000003,75.53999999999999 Z" fill="white"/>
  <path d="M20.200000000000003,55.53999999999999 L12.608000000000004,59.336 L8.968000000000004,57.51599999999999 L2,61 L-8.087999999999994,55.956 L-1.171999999999997,52.446 L-15.991999999999997,45.036 L-9.283999999999999,41.682 L23.215999999999994,35.156 L28.884000000000007,41.11 L2.156000000000006,46.518 L6.524000000000001,48.702 L15.415999999999997,45.452 L24.256,49.872 L16.560000000000002,53.72 L20.200000000000003,55.53999999999999 Z" fill="white"/>
</svg>

After much head-banging and code-wrangling, I've started on a new approach to make things more systematic as this progresses. I'm now using a pipeline process to transform the original SVG in stages, which also allows me to visualize the output and debug at each step.

### Pipeline

The transform process is not broken down into steps, with the following working at the moment:

1. Split into Shapes
2. Convert Shapes to Paths
3. Construct Floor and Ceiling
4. Transform to Isometric

This approach has already borne significant fruit.

### Paths and Curves

For example, the isometric transformation was struggling to handle arcs correctly. So instead, when shapes are converted into paths, now rounded corners, circles, and ellipses are converted into approximated Bézier curves. This approach, in combination with the switch to converting everything to paths, has made the projected isometric output smoother and more predictable.

As a bonus, this means that a wider variety of shapes can now be used.

### Glass Walls

At this stage, the new pipeline doesn't yet add walls, so let's just pretend they are transparent for now.

It's anyone's guess how the roofs are supported.

### Further Reading

While casting about trying to understand what was going on, I came across Peter Collingridge's tutorial on [Isometric Projection](https://www.petercollingridge.co.uk/tutorials/svg/isometric-projection/). While I'm not currently using this approach, it was illuminating nonetheless. (Content warning: mathematics.)

## 2025-01-25

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 134.875 122.325">
  <polygon points="40,10 10,25 10,45 40,30" fill="#cc8400"></polygon>
  <polygon points="10,25 60,50 60,70 10,45" fill="#e59400"></polygon>
  <polygon points="90,35 60,50 60,70 90,55" fill="#cc8400"></polygon>
  <defs>
    <linearGradient id="gradient-100-50" gradientUnits="userSpaceOnUse" x1="55.125" y1="95" x2="124.875" y2="95">
      <stop offset="0%" style="stop-color:#730073;stop-opacity:1"></stop>
      <stop offset="100%" style="stop-color:#660066;stop-opacity:1"></stop>
    </linearGradient>
  </defs>
  <path d="M55.125,75
  A34.875,17.325 0 0,0 124.875,75
  L124.875,95
  A34.875,17.325 0 0,1 55.125,95
  Z" fill="url(#gradient-100-50)"></path>
  <polygon points="40,10 90,35 60,50 10,25" fill="orange"></polygon>
  <ellipse cx="90" cy="75" rx="34.875" ry="17.325" fill="purple"></ellipse>
</svg>

The initial version of the extruder is working with a very limited feature set.

The goal is to take a source "birds-eye" SVG file and extrude it into an isometric projection.

- Rectangular shapes are supported
- Circular shapes are supported
- Extrusions are all to the same height
- Fill color carries over
- Simple shading is applied to the sides of an extruded object

For development convenience, a set of test source SVGs are provided. Running `npm run dev` will open a demo page in your browser to see the input and output of these test SVGs. It will also watch for changes, regenerate the extruded SVGs, and refresh the browser. Add new test SVGs to `tests/sources` to include them in this process.
