---
title: Dingus
layout: default
---

<div class="dingus">
  <div class="dingus__input">
    <label for="svgInput">Paste your SVG code here:</label>
    <textarea id="svgInput" placeholder="Paste SVG here...">
<svg width="143" height="126" viewBox="0 0 143 126" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="24" y="24" width="95" height="78" rx="24" fill="#D50C34"/>
  <path d="M85.64 65.44V73.032H82V80H71.912L71.86 73.032H57.04V66.324L66.764 43.548L75.552 46.668L67.596 65.44H71.964L73.16 57.744H82V65.44H85.64Z" fill="white"/>
</svg>
</textarea
    >
    <button id="transformButton">Transform</button>
  </div>
  <div class="dingus__output" hidden>
    <div class="row">
      <figure hidden>
        <div class="svg" id="input"></div>
        <figcaption>
          Original SVG
          <button class="copy-svg">Copy SVG</button>
        </figcaption>
      </figure>
      <figure hidden>
        <div class="svg" id="output"></div>
        <figcaption>
          Transformed SVG
          <button class="copy-svg">Copy SVG</button>
        </figcaption>
      </figure>
    </div>
  </div>
</div>
<style>
  .dingus {
    display: flex;
    gap: 4rem;
    margin-top: 2rem;
  }
  .dingus__input {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: flex-start;
  }
  textarea {
    width: 500px;
    height: 400px;
    box-sizing: border-box;
    margin-bottom: 1rem;
    background-color: #444;
    color: white;
    font-size: 1rem;
    font-family: monospace;
    padding: 0.5rem;
    margin: 0;
  }
</style>

<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.css"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/theme/monokai.min.css"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.0/mode/xml/xml.min.js"></script>

<script type="module" src="/assets/transform.js"></script>

<script type="module">
  // Hide the dingus until codemirror is loaded
  document.querySelector(".dingus").hidden = true;

  import { transformSvgToIsometric } from "/assets/transform.js";

  // Enhance the textarea with codemirror for svg editing
  const svgInput = document.getElementById("svgInput");
  const editor = CodeMirror.fromTextArea(svgInput, {
    mode: "xml",
    theme: "monokai",
    lineNumbers: true,
    lineWrapping: true,
    tabSize: 2,
    indentUnit: 2,
  });

  // Adjust the width and height of the CodeMirror editor
  editor.setSize("500px", "400px");

  // Show the dingus once codemirror is loaded
  editor.on("change", () => {
    document.querySelector(".dingus").hidden = false;
  });

  document
    .getElementById("transformButton")
    .addEventListener("click", async () => {
      const svgInput =
        (editor && editor.getValue()) ||
        document.getElementById("svgInput").value;
      if (!svgInput.trim()) {
        alert("Please paste valid SVG code!");
        return;
      }

      try {
        const { svg: transformedSvg, steps } = await transformSvgToIsometric(
          svgInput
        ); // Use the imported function
        const inputSvg = steps[0].svg;
        const inputDiv = document.getElementById("input");
        const outputDiv = document.getElementById("output");
        inputDiv.innerHTML = inputSvg; // Render the input SVG
        outputDiv.innerHTML = transformedSvg; // Render the transformed SVG

        // Show the dingus output
        document.querySelector(".dingus__output").hidden = false;

        // Show the figures
        inputDiv.parentElement.hidden = false;
        outputDiv.parentElement.hidden = false;
      } catch (error) {
        alert(
          "An error occurred while transforming the SVG. Check the console for details."
        );
        console.error(error);
      }
    });

  document.querySelectorAll(".copy-svg").forEach((button) => {
    button.addEventListener("click", () => {
      const svg = button.closest("figure").querySelector("svg");
      const serializer = new XMLSerializer();
      const svgString = serializer.serializeToString(svg);
      const tempTextArea = document.createElement("textarea");
      tempTextArea.value = svgString;
      document.body.appendChild(tempTextArea);
      tempTextArea.select();
      document.execCommand("copy");
      document.body.removeChild(tempTextArea);
    });
  });
</script>
